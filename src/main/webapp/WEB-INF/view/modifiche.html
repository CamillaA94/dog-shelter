<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title th:text="${titolo}"></title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src='main.js'></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    <style>
      .btn-primary{
      	margin-top: 2%;
        background-color: #519B8A;
        border-color: #519B8A;
      }
      .btn-primary:hover {
        background-color: #03cc9d;
        border-style: #519B8A;
      }
      .btn-danger {
     	 margin-top: 2%;
      }
      .form_amministrativo{
        margin-left: 5%;
      }
      .titolo_form{
        	background-color: #FBB74D;
            padding-top: 2%;
            padding-bottom: 2%;
            margin-top: 0;
            margin-bottom: 2%;
            text-align: center;
            color: black;
      }
      .formstyle {
        margin-top: 2%;
        padding-top: 4%;
        padding-bottom: 3%;
        border-style: solid;
        border-color: #519B8A;
      }

      .form-check-input:checked {
    background-color: #519B8A;
    border-color: #519B8A;
      }
      img{
        max-width:260px;
      }

      h6 {
        margin-top: 4%;
        padding-top: 3%;
      }
     

      
    </style>

  </head>
<body>
  <div class="titolo_form">
    <div class="row">
      <div class="col-lg-2 col-md-2 col-sm-2">
          <img th:src="@{static/image/icona_form1.png}" width="80px" height="auto" />
      </div>
      <div class="col-lg-8 col-md-8 col-sm-8">
        <h2>Area modifiche</h2>
        <h5>Seleziona "Nuovo cane" per un nuovo inserimento, oppure il nome del cane per le modifiche</h5>
      </div>
      <div class="col-lg-2 col-md-2 col-sm-2">
          <img th:src="@{static/image/icona_form2.png}" width="80px" height="auto" />
      </div>
    </div>
  </div><br />
  
  <div class="row">
  		<div class="col-4"></div>
  		<div class="col-4">
  			<span th:if="${errore}" th:text="#{errore.salvataggio}" class="alert alert-danger" id="errore"></span>
  		</div>
  		<div class="col-4"></div>
  </div><br /><br /><br />
  
		          
  <!--scegli cane seleziona-->
<form class="row g-3" action="modifiche/scelta" method="POST">
	<div class="col-4"></div>
	<div class="col-3">
		<select class="form-select" id="validationCustom04" name="scelta">
            <option selected disabled value="" th:text="#{label.seleziona}"></option>
            <option th:value="0" th:text="#{label.nuovo}" th:selected="${cane.id == 0}"></option>
            <option th:each="c : ${cani}" th:value="${c.id}" th:text="${c.nome}" th:selected="${cane.id == c.id}"></option>
        </select>
	</div>
	<div class="col-1">
		<input class="btn btn-primary" type="submit" th:value="#{button.seleziona}" style="margin-bottom:4%;"></input>
	</div>
	<div class="col-4"></div>
</form><br />
  
   


<div class="container formstyle">
  <div class="row">
      <div class="col-lg-1 col-md-1 col-sm-1 col-12"></div>
      <div class="col-lg-4 col-md-4 col-sm-4 col-12">
        

          <!--form inserimento dati-->
          <form class="form_amministrativo" action="modifiche/salva" method="POST" enctype="multipart/form-data">
            <!--Campo 0 (nascosto)-->
            <div>
            <input type="hidden" id="id" name="id" th:value="${cane.id}">
            </div>
            <!--Campo 1-->
            <div>
              <label for="validationCustom01" class="form-label"><h6 th:text="#{label.nome} + '*: '"></h6></label>
              <input type="text" class="form-control" id="validationCustom01" name="nome" th:value="${cane.nome}" required>
            </div><br />
            <!--Campo 2-->
            <div>
              <label for="validationCustom02" class="form-label"><h6 th:text="#{label.razza} + '*: '"></h6></label>
              <input type="text" class="form-control" id="validationCustom02" name="razza" th:value="${cane.razza}" required>
            </div><br />
            <!--Campo 3-->
            <div>
              <label for="validationCustom04" class="form-label"><h6 th:text="#{label.eta} + '*: '"></h6></label>
              <select class="form-select" id="validationCustom04" name="eta" required>
                <option selected disabled value="" th:text="#{label.seleziona}"></option>
                <option th:value="1" th:text="1" th:selected="${cane.eta == 1}"></option>
                <option th:value="2" th:text="2" th:selected="${cane.eta == 2}"></option>
                <option th:value="3" th:text="3" th:selected="${cane.eta == 3}"></option>
                <option th:value="4" th:text="4" th:selected="${cane.eta == 4}"></option>
                <option th:value="5" th:text="5" th:selected="${cane.eta == 5}"></option>
                <option th:value="6" th:text="6" th:selected="${cane.eta == 6}"></option>
                <option th:value="7" th:text="7" th:selected="${cane.eta == 7}"></option>
                <option th:value="8" th:text="8" th:selected="${cane.eta == 8}"></option>
                <option th:value="9" th:text="9" th:selected="${cane.eta == 9}"></option>
                <option th:value="10" th:text="10" th:selected="${cane.eta == 10}"></option>
                <option th:value="11" th:text="11" th:selected="${cane.eta == 11}"></option>
                <option th:value="12" th:text="12" th:selected="${cane.eta == 12}"></option>
                <option th:value="13" th:text="13" th:selected="${cane.eta == 13}"></option>
                <option th:value="14" th:text="14" th:selected="${cane.eta == 14}"></option>
                <option th:value="15" th:text="15" th:selected="${cane.eta == 15}"></option>
                <option th:value="16" th:text="16" th:selected="${cane.eta == 16}"></option>
                <option th:value="17" th:text="17" th:selected="${cane.eta == 17}"></option>
                <option th:value="18" th:text="18" th:selected="${cane.eta == 18}"></option>
                <option th:value="19" th:text="19" th:selected="${cane.eta == 19}"></option>
                <option th:value="20" th:text="20" th:selected="${cane.eta == 20}"></option>
              </select>
            </div><br />
            <!--Campo 4-->
            <div>
              <label for="validationCustom04" class="form-label"><h6 th:text="#{label.sesso} + '*: '"></h6></label>
              <select class="form-select" id="validationCustom04" name="sesso" required>
                <option selected disabled value="" th:text="#{label.seleziona}"></option>
                <option th:value="M" th:text="M" th:selected="${cane.sesso.equals('M')}"></option>
		            <option th:value="F" th:text="F" th:selected="${cane.sesso.equals('F')}"></option>
              </select>
            </div>
            <!--Campo 5-->
            <h6 th:text="#{label.vaccinazioni} + '*: '"></h6>
            <div class="form-check form-check">
              <input class="form-check-input" type="checkbox" id="inlineCheckbox1" name="vaccinazioni" th:value="#{vaccinazioni.parvovirus}" th:checked="${cane.vaccinazioni.contains('Parvovirus')}">
              <label class="form-check-label" for="inlineCheckbox1" th:text="#{vaccinazioni.parvovirus}"></label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="checkbox" id="inlineCheckbox2" name="vaccinazioni" th:value="#{vaccinazioni.cimurro}" th:checked="${cane.vaccinazioni.contains('Cimurro')}">
              <label class="form-check-label" for="inlineCheckbox2" th:text="#{vaccinazioni.cimurro}"></label>
            </div>
            <div class="form-check form-check-">
              <input class="form-check-input" type="checkbox" id="inlineCheckbox3" name="vaccinazioni" th:value="#{vaccinazioni.epatite}" th:checked="${cane.vaccinazioni.contains('Epatite')}">
              <label class="form-check-label" for="inlineCheckbox2" th:text="#{vaccinazioni.epatite}"></label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="checkbox" id="inlineCheckbox4" name="vaccinazioni" th:value="#{vaccinazioni.leptospirosi}" th:checked="${cane.vaccinazioni.contains('Leptospirosi')}">
              <label class="form-check-label" for="inlineCheckbox2" th:text="#{vaccinazioni.leptospirosi}"></label>
            </div>
            <div class="form-check form-check">
              <input class="form-check-input" type="checkbox" id="inlineCheckbox5" name="vaccinazioni" th:value="#{vaccinazioni.rabbia}" th:checked="${cane.vaccinazioni.contains('Rabbia')}">
              <label class="form-check-label" for="inlineCheckbox2" th:text="#{vaccinazioni.rabbia}"></label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="checkbox" id="inlineCheckbox6" name="vaccinazioni" th:value="#{vaccinazioni.bordetella}" th:checked="${cane.vaccinazioni.contains('Bordetella')}">
              <label class="form-check-label" for="inlineCheckbox2" th:text="#{vaccinazioni.bordetella}"></label>
            </div>
            <div class="form-check form-check">
              <input class="form-check-input" type="checkbox" id="inlineCheckbox7" name="vaccinazioni" th:value="#{vaccinazioni.influenza}" th:checked="${cane.vaccinazioni.contains('Influenza')}">
              <label class="form-check-label" for="inlineCheckbox2" th:text="#{vaccinazioni.influenza}"></label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="checkbox" id="inlineCheckbox8" name="vaccinazioni" th:value="#{vaccinazioni.lyme}" th:checked="${cane.vaccinazioni.contains('Lyme')}">
              <label class="form-check-label" for="inlineCheckbox2" th:text="#{vaccinazioni.lyme}"></label>
            </div>
            <div class="form-check form-check">
              <input class="form-check-input" type="checkbox" id="inlineCheckbox9" name="vaccinazioni" th:value="#{vaccinazioni.leishmania}" th:checked="${cane.vaccinazioni.contains('Leishmania')}">
              <label class="form-check-label" for="inlineCheckbox2" th:text="#{vaccinazioni.leishmania}"></label>
            </div>
            <!-- Campo 6 -->
            <h6 th:text="#{label.sterilizzazione} + ': '"></h6>
            <div class="form-check-inline">
              <input class="form-check-input" type="radio" name="sterilizzazione" id="flexRadioDefault1" th:value="true" th:checked="${cane.sterilizzazione}">
              <label class="form-check-label" for="flexRadioDefault1" th:text="SI"></label>
            </div>
            <div class="form-check-inline">
              <input class="form-check-input" type="radio" name="sterilizzazione" id="flexRadioDefault2" th:value="false" th:checked="${!cane.sterilizzazione}">
              <label class="form-check-label" for="flexRadioDefault2" th:text="NO"></label>
            </div>
            <!--Campo 7-->
            <h6 th:text="#{label.microchip} + ': '"></h6>
              <div class="form-check-inline">
                <input class="form-check-input" type="radio" name="microchip" id="flexRadioDefault3" th:value="true" th:checked="${cane.microchip}">
                <label class="form-check-label" for="flexRadioDefault3" th:text="SI"></label>
              </div>
              <div class="form-check-inline">
                <input class="form-check-input" type="radio" name="microchip" id="flexRadioDefault4" th:value="false" th:checked="${!cane.microchip}">
                <label class="form-check-label" for="flexRadioDefault4" th:text="NO"></label>
              </div>
      </div>  <!--chiusura prima colonna form-->
        
      <div class="col-lg-2 col-md-2 col-sm-2 col-12"></div>
      
      <!-- inizio seconda colonna form -->
      <div class="col-lg-4 col-md-4 col-sm-4 col-12">
       
          <!--Campo 8-->
          <div>
            <label for="validationCustom05" class="form-label"><h6 th:text="#{label.descrizione} + ': '"></h6></label>
            <input type="text" class="form-control" id="validationCustom05" name="descrizione" th:value="${cane.descrizione}">
          </div>

          <!--Campo 9-->
          <h6 th:text="#{label.data} + '*: '"></h6>
            <div>
              <input type="date" id="start" name="arrivo" th:value="${cane.arrivo}" required min="2010-01-01" max="2030-01-01" style="width:300px ; padding-left: 2px; color: grey;">
            </div>
            
          <!--Campo 10 scelta foto-->
          <h6 th:text="#{label.immagini} + '*:'"></h6>
          <div>
            <div class="input-group mb-3">
              <input type="file" class="form-control" id="inputGroupFile01" name="immagine"> 
            </div>
              <div>
                <img th:if="${cane.immagine}" th:src="@{'static/cani/' + ${cane.id} + '.png'}">
              </div><br />

            <div class="input-group mb-3" id="img2" th:style="${cane.immagine ? 'display:flex' : 'display:none'}">
              <input type="file" class="form-control" id="inputGroupFile02" name="immagine2">
            </div>
              <div>
                <img th:if="${cane.immagine2}" th:src="@{'static/cani/' + ${cane.id} + 'b.png'}">
                <a class= "btn btn-danger btn-sm" th:if="${cane.immagine2}" th:href="@{modifiche/eliminaimmagine2(id=${cane.id})}" th:text="#{button.elimina}"></a>
              </div><br />

            <div class="input-group mb-3" id="img3" th:style="${cane.immagine2 ? 'display:flex' : 'display:none'}">
              <input type="file" class="form-control" id="inputGroupFile03" name="immagine3">     
            </div>
              <div>
                <img th:if="${cane.immagine3}" th:src="@{'static/cani/' + ${cane.id} + 'c.png'}">
                <a class= "btn btn-danger btn-sm" th:if="${cane.immagine3}" th:href="@{modifiche/eliminaimmagine3(id=${cane.id})}" th:text="#{button.elimina}"></a>
              </div>
          </div>

          <!--Campi obbligatori-->
          <h6 th:text="#{label.obbligatori}"></h6><br />

          <!--Bottone Salva / Elimina-->
          <div>
            <input class="btn btn-primary" type="submit" th:value="#{button.salva}" />
            <a th:href="@{/riservata}" class="btn btn-danger" th:text="#{button.annulla}"></a>
          </div>

        </div>
          
      </form>
      <!--fine form inserimento dati-->
      <div class="col-lg-1 col-md-1 col-sm-1 col-12"></div>
    
    </div>
  </div>


    <script>
      document.getElementById("inputGroupFile01").addEventListener("change", immagine2);
      function immagine2() {
        if(document.getElementById("img2").style.display != 'flex') {
          document.getElementById("img2").style.display = 'flex';
        }
      }

      document.getElementById("inputGroupFile02").addEventListener("change", immagine3);
      function immagine3() {
        if(document.getElementById("img3").style.display != 'flex') {
          document.getElementById("img3").style.display = 'flex';
        }
      }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
</body>
</html>