<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title th:text="${titolo}"></title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src='main.js'></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    <style>
      .btn-primary{
        background-color: #04AA6D;
        border-color: #04AA6D;
      }
      .form_amministrativo{
       
        margin-left: 5%;
       
      }
      .titolo_form{
        text-align: center;
        padding-bottom: 5%;
      }
      .form-check-input:checked {
    background-color: #04AA6D;
    border-color: #04AA6D;
      }
      img{
        max-width:260px;
      }
      #obbligatori{
      font-weight: bold;
      }
    </style>

  </head>
<body>
  	<div class="titolo_form">
 	 <h3>Benvenuto nell'area di modifica</h3><br />
 	 <h4>Seleziona "Nuovo cane" per un nuovo inserimento, oppure il nome del cane per le modifiche</h4><br /><br />
 	 <span th:if="${errore}" th:text="#{errore.salvataggio}" class="alert alert-danger" id="errore"></span>
	</div>
<div class="container">
  <div class="row">
    <div class="col-4"></div>
    <div class="col-6">
<!--form inserimento dati-->
<form class="form_amministrativo" action="riservata/scelta" method="POST">
    <div class="col-md-6">
      <!--Campo 1-->
      <label for="validationCustom04" class="form-label" th:text="#{label.scelta} + ':'"></label>
      <span>
      <select class="form-select" id="validationCustom04" name="scelta">
        <option selected disabled value="" th:text="#{label.seleziona}"></option>
        <option th:value="0" th:text="#{label.nuovo}" th:selected="${cane.id == 0}"></option>
        <option th:each="c : ${cani}" th:value="${c.id}" th:text="${c.nome}" th:selected="${cane.id == c.id}"></option>
      </select><br />
      <input type="submit" th:value="#{button.seleziona}" class="btn btn-primary">
      </span>
    </div>
</form><br /><br />
<form class="form_amministrativo" action="riservata/salva" method="POST" enctype="multipart/form-data">
	<input type="hidden" id="id" name="id" th:value="${cane.id}">
    <!--Campo 2-->
    <div class="col-md-6">
      <label for="validationCustom01" class="form-label" th:text="#{label.nome} + '*: '"></label>
      <input type="text" class="form-control" id="validationCustom01" name="nome" th:value="${cane.nome}" required>
    </div><br />
    <!--Campo 3-->
    <div class="col-md-6">
      <label for="validationCustom02" class="form-label" th:text="#{label.razza} + '*: '"></label>
      <input type="text" class="form-control" id="validationCustom02" name="razza" th:value="${cane.razza}" required>
    </div><br />
    <!--Campo 4-->
    <div class="col-md-6">
      <label for="validationCustom04" class="form-label" th:text="#{label.eta} + '*: '"></label>
      <select class="form-select" id="validationCustom04" name="eta" required>
        <option selected disabled value="" th:text="#{label.seleziona}"></option>
        <option th:value="1" th:text="1" th:selected="${cane.eta == 1}"></option>
		<option th:value="2" th:text="2" th:selected="${cane.eta == 2}"></option>
		<option th:value="3" th:text="3" th:selected="${cane.eta == 3}"></option>
		<option th:value="4" th:text="4" th:selected="${cane.eta == 4}"></option>
		<option th:value="5" th:text="5" th:selected="${cane.eta == 5}"></option>
		<option th:value="6" th:text="6" th:selected="${cane.eta == 6}"></option>
		<option th:value="7" th:text="7" th:selected="${cane.eta == 7}"></option>
		<option th:value="8" th:text="8" th:selected="${cane.eta == 8}"></option>
		<option th:value="9" th:text="9" th:selected="${cane.eta == 9}"></option>
		<option th:value="10" th:text="10" th:selected="${cane.eta == 10}"></option>
		<option th:value="11" th:text="11" th:selected="${cane.eta == 11}"></option>
		<option th:value="12" th:text="12" th:selected="${cane.eta == 12}"></option>
		<option th:value="13" th:text="13" th:selected="${cane.eta == 13}"></option>
		<option th:value="14" th:text="14" th:selected="${cane.eta == 14}"></option>
		<option th:value="15" th:text="15" th:selected="${cane.eta == 15}"></option>
		<option th:value="16" th:text="16" th:selected="${cane.eta == 16}"></option>
		<option th:value="17" th:text="17" th:selected="${cane.eta == 17}"></option>
		<option th:value="18" th:text="18" th:selected="${cane.eta == 18}"></option>
		<option th:value="19" th:text="19" th:selected="${cane.eta == 19}"></option>
		<option th:value="20" th:text="20" th:selected="${cane.eta == 20}"></option>
      </select>
    </div><br />
    <!--Campo 5-->
    <div class="col-md-6">
      <label for="validationCustom04" class="form-label" th:text="#{label.sesso} + '*: '"></label>
      <select class="form-select" id="validationCustom04" name="sesso" required>
        <option selected disabled value="" th:text="#{label.seleziona}"></option>
        <option th:value="M" th:text="M" th:selected="${cane.sesso.equals('M')}"></option>
		<option th:value="F" th:text="F" th:selected="${cane.sesso.equals('F')}"></option>
      </select>
    </div><br />
    <!-- Campo 6 tipi di vaccinazioni-->
    <div th:text="#{label.vaccinazioni} + '*: '"></div>
    <div class="form-check form-check">
      <input class="form-check-input" type="checkbox" id="inlineCheckbox1" name="vaccinazioni" th:value="#{vaccinazioni.parvovirus}" th:checked="${cane.vaccinazioni.contains('Parvovirus')}">
      <label class="form-check-label" for="inlineCheckbox1" th:text="#{vaccinazioni.parvovirus}"></label>
    </div>
    <div class="form-check form-check-inline">
      <input class="form-check-input" type="checkbox" id="inlineCheckbox2" name="vaccinazioni" th:value="#{vaccinazioni.cimurro}" th:checked="${cane.vaccinazioni.contains('Cimurro')}">
      <label class="form-check-label" for="inlineCheckbox2" th:text="#{vaccinazioni.cimurro}"></label>
    </div>
    <div class="form-check form-check">
      <input class="form-check-input" type="checkbox" id="inlineCheckbox3" name="vaccinazioni" th:value="#{vaccinazioni.epatite}" th:checked="${cane.vaccinazioni.contains('Epatite')}">
      <label class="form-check-label" for="inlineCheckbox2" th:text="#{vaccinazioni.epatite}"></label>
    </div>
    <div class="form-check form-check-inline">
      <input class="form-check-input" type="checkbox" id="inlineCheckbox4" name="vaccinazioni" th:value="#{vaccinazioni.leptospirosi}" th:checked="${cane.vaccinazioni.contains('Leptospirosi')}">
      <label class="form-check-label" for="inlineCheckbox2" th:text="#{vaccinazioni.leptospirosi}"></label>
    </div>
    <div class="form-check form-check">
      <input class="form-check-input" type="checkbox" id="inlineCheckbox5" name="vaccinazioni" th:value="#{vaccinazioni.rabbia}" th:checked="${cane.vaccinazioni.contains('Rabbia')}">
      <label class="form-check-label" for="inlineCheckbox2" th:text="#{vaccinazioni.rabbia}"></label>
    </div>
    <div class="form-check form-check-inline">
      <input class="form-check-input" type="checkbox" id="inlineCheckbox6" name="vaccinazioni" th:value="#{vaccinazioni.bordetella}" th:checked="${cane.vaccinazioni.contains('Bordetella')}">
      <label class="form-check-label" for="inlineCheckbox2" th:text="#{vaccinazioni.bordetella}"></label>
    </div>
    <div class="form-check form-check">
      <input class="form-check-input" type="checkbox" id="inlineCheckbox7" name="vaccinazioni" th:value="#{vaccinazioni.influenza}" th:checked="${cane.vaccinazioni.contains('Influenza')}">
      <label class="form-check-label" for="inlineCheckbox2" th:text="#{vaccinazioni.influenza}"></label>
    </div>
    <div class="form-check form-check-inline">
      <input class="form-check-input" type="checkbox" id="inlineCheckbox8" name="vaccinazioni" th:value="#{vaccinazioni.lyme}" th:checked="${cane.vaccinazioni.contains('Lyme')}">
      <label class="form-check-label" for="inlineCheckbox2" th:text="#{vaccinazioni.lyme}"></label>
    </div>
    <div class="form-check form-check">
      <input class="form-check-input" type="checkbox" id="inlineCheckbox9" name="vaccinazioni" th:value="#{vaccinazioni.leishmania}" th:checked="${cane.vaccinazioni.contains('Leishmania')}">
      <label class="form-check-label" for="inlineCheckbox2" th:text="#{vaccinazioni.leishmania}"></label>
    </div><br />
    <!--Campo 7-->
    <div th:text="#{label.sterilizzazione} + ': '"></div>
    <div class="form-check-inline">
      <input class="form-check-input" type="radio" name="sterilizzazione" id="flexRadioDefault1" th:value="true" th:checked="${cane.sterilizzazione}">
      <label class="form-check-label" for="flexRadioDefault1" th:text="SI"></label>
    </div>
    <div class="form-check-inline">
      <input class="form-check-input" type="radio" name="sterilizzazione" id="flexRadioDefault2" th:checked="${!cane.sterilizzazione}">
      <label class="form-check-label" for="flexRadioDefault2" th:text="NO"></label>
    </div><br /><br />
    <!--Campo 8-->
<div th:text="#{label.microchip} + ': '"></div>
    <div class="form-check-inline">
      <input class="form-check-input" type="radio" name="microchip" id="flexRadioDefault3" th:value="true" th:checked="${cane.microchip}">
      <label class="form-check-label" for="flexRadioDefault3" th:text="SI"></label>
    </div>
    <div class="form-check-inline">
      <input class="form-check-input" type="radio" name="microchip" id="flexRadioDefault4" th:value="false" th:checked="${!cane.microchip}">
      <label class="form-check-label" for="flexRadioDefault4" th:text="NO"></label>
    </div><br /><br />
    <!--Campo 9-->
    <div class="col-md-6">
      <label for="validationCustom05" class="form-label" th:text="#{label.descrizione} + ': '"></label>
      <input type="text" class="form-control" id="validationCustom05" name="descrizione" th:value="${cane.descrizione}">
    </div><br />
    <!--Campo 10-->
    <div th:text="#{label.data} + '*: '"></div>
	<div>
      <input type="date" id="start" name="arrivo" th:value="${cane.arrivo}" required min="2018-01-01" max="2030-01-01" style="width:300px ; padding-left: 2px; color: grey;">
    </div><br />
    <!--Campo 11 scelta foto-->
<div class="col-md-6">
    <div class="input-group mb-3">
    <label class="form-label" th:text="#{label.immagine} + '*:'"></label><br />
      <input type="file" class="form-control" id="inputGroupFile01" name="immagine"> 
    </div>
    <div>
      <img th:if="${cane.immagine}" th:src="@{'static/cani/' + ${cane.id} + '.png'}">
    <br>
    <div class="input-group mb-3" id="img2" th:style="${cane.immagine ? 'display:block' : 'display:none'}">
    <label class="form-label" th:text="#{label.immagine2} + ':'"></label><br />
      <input type="file" class="form-control" id="inputGroupFile02" name="immagine2">
    </div>
    <div>
      <img th:if="${cane.immagine2}" th:src="@{'static/cani/' + ${cane.id} + 'b.png'}">
      <a class= "btn btn-danger" th:if="${cane.immagine2}" th:href="@{riservata/eliminaimmagine2(id=${cane.id})}" th:text="#{button.eliminaimmagine}"></a>
    </div>
	<br>
    <div class="input-group mb-3" id="img3" th:style="${cane.immagine2 ? 'display:block' : 'display:none'}">
    <label class="form-label" th:text="#{label.immagine3} + ':'"></label><br />
    <input type="file" class="form-control" id="inputGroupFile03" name="immagine3">     
    </div>
    <div>
      <img th:if="${cane.immagine3}" th:src="@{'static/cani/' + ${cane.id} + 'c.png'}">
      <a class= "btn btn-danger" th:if="${cane.immagine3}" th:href="@{riservata/eliminaimmagine3(id=${cane.id})}" th:text="#{button.eliminaimmagine}"></a>
    </div>
  </div><br />
  <div th:text="#{label.obbligatori}" id="obbligatori"></div><br />
    <!--Bottone Salva-->
    <div class="col-12">
      <input class="btn btn-primary" type="submit" th:value="#{button.salva}" />
      <a th:href="@{riservata/elimina(id=${cane.id})}" th:text="#{button.elimina}" class="btn btn-danger"></a>
    </div>
  </div>
    
</form>
<!--fine form inserimento dati-->
<div class="col-4"></div>
</div>
</div>
</div>
	<script>
    document.getElementById("inputGroupFile01").addEventListener("change", immagine2);
    function immagine2() {
      if(document.getElementById("img2").style.display != 'block') {
        document.getElementById("img2").style.display= 'block';
      }
    }

    document.getElementById("inputGroupFile02").addEventListener("change", immagine3);
    function immagine3() {
      if(document.getElementById("img3").style.display != 'block') {
        document.getElementById("img3").style.display= 'block';
      }
    }
	</script>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
</body>
</html>